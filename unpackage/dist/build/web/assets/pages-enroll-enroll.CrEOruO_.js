import{k as e,r as a,c as l,w as s,i as o,o as n,a as r,l as t,b as u,s as d,n as c,f as i,I as m,p as f}from"./index-DKAPyHqU.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";const g=p({__name:"enroll",setup(p){const g=a({username:"",password:"",confirmPassword:""}),w=async()=>{if(g.value.username&&g.value.password&&g.value.confirmPassword)if(g.value.password===g.value.confirmPassword)if(g.value.username.length<6||g.value.password.length<6)d({title:"账号和密码长度不能小于6位",icon:"none"});else try{const a=await(async a=>{try{return(await e.callFunction({name:"enroll",data:{username:a.username,password:a.password}})).result}catch(l){return console.error("调用云函数失败:",l),{code:500,message:"注册失败，请稍后重试"}}})(g.value);200===a.code?(d({title:"注册成功",icon:"success"}),c({url:"/pages/logIn/logIn"})):d({title:a.message||"注册失败",icon:"none"})}catch(a){d({title:"注册失败，请稍后重试",icon:"none"}),console.error("注册失败:",a)}else d({title:"两次输入的密码不一致",icon:"none"});else d({title:"账号和密码不能为空",icon:"none"})};function _(){c({url:"/pages/logIn/logIn"})}return(e,a)=>{const d=i,c=o,p=m,v=f;return n(),l(c,{class:"w3l-workinghny-form"},{default:s((()=>[r(c,{class:"wrapper"},{default:s((()=>[r(c,{class:"logo"},{default:s((()=>[t("h1",null,[r(d,{class:"brand-logo",href:"#"},{default:s((()=>[u(" 教学方案研究生成系统 ")])),_:1})])])),_:1}),r(c,{class:"workinghny-block-grid"},{default:s((()=>[r(c,{class:"workinghny-left-img"},{default:s((()=>[t("img",{src:"/assets/1-xj8D26KL.png",class:"img-responsive",alt:"login visual"})])),_:1}),r(c,{class:"form-right-inf"},{default:s((()=>[r(c,{class:"login-form-content"},{default:s((()=>[r(c,{class:"signin-form"},{default:s((()=>[r(c,{class:"one-frm"},{default:s((()=>[r(c,null,{default:s((()=>[u("账号")])),_:1}),r(p,{type:"text",placeholder:"请输入账号名",modelValue:g.value.username,"onUpdate:modelValue":a[0]||(a[0]=e=>g.value.username=e)},null,8,["modelValue"])])),_:1}),r(c,{class:"one-frm"},{default:s((()=>[r(c,null,{default:s((()=>[u("密码")])),_:1}),r(p,{type:"password",modelValue:g.value.password,"onUpdate:modelValue":a[1]||(a[1]=e=>g.value.password=e),placeholder:"请输入你的密码"},null,8,["modelValue"])])),_:1}),r(c,{class:"one-frm"},{default:s((()=>[r(c,null,{default:s((()=>[u("确认密码")])),_:1}),r(p,{type:"password",modelValue:g.value.confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=e=>g.value.confirmPassword=e),placeholder:"再次输入你的密码"},null,8,["modelValue"])])),_:1}),r(v,{type:"submit",class:"btn btn-style mt-3",onClick:w},{default:s((()=>[u(" 注册 ")])),_:1}),t("p",{class:"already"},[u(" 已有账号? "),t("a",{onClick:_},"登录")])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-397e50e9"]]);export{g as default};
