{
  "version": 3,
  "sources": ["../../../../../node_modules/component-emitter/index.js", "../../../../../node_modules/stream/index.js"],
  "sourcesContent": ["function Emitter(object) {\n\tif (object) {\n\t\treturn mixin(object);\n\t}\n\n\tthis._callbacks = new Map();\n}\n\nfunction mixin(object) {\n\tObject.assign(object, Emitter.prototype);\n\tobject._callbacks = new Map();\n\treturn object;\n}\n\nEmitter.prototype.on = function (event, listener) {\n\tconst callbacks = this._callbacks.get(event) ?? [];\n\tcallbacks.push(listener);\n\tthis._callbacks.set(event, callbacks);\n\treturn this;\n};\n\nEmitter.prototype.once = function (event, listener) {\n\tconst on = (...arguments_) => {\n\t\tthis.off(event, on);\n\t\tlistener.apply(this, arguments_);\n\t};\n\n\ton.fn = listener;\n\tthis.on(event, on);\n\treturn this;\n};\n\nEmitter.prototype.off = function (event, listener) {\n\tif (event === undefined && listener === undefined) {\n\t\tthis._callbacks.clear();\n\t\treturn this;\n\t}\n\n\tif (listener === undefined) {\n\t\tthis._callbacks.delete(event);\n\t\treturn this;\n\t}\n\n\tconst callbacks = this._callbacks.get(event);\n\tif (callbacks) {\n\t\tfor (const [index, callback] of callbacks.entries()) {\n\t\t\tif (callback === listener || callback.fn === listener) {\n\t\t\t\tcallbacks.splice(index, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (callbacks.length === 0) {\n\t\t\tthis._callbacks.delete(event);\n\t\t} else {\n\t\t\tthis._callbacks.set(event, callbacks);\n\t\t}\n\t}\n\n\treturn this;\n};\n\nEmitter.prototype.emit = function (event, ...arguments_) {\n\tconst callbacks = this._callbacks.get(event);\n\tif (callbacks) {\n\t\t// Create a copy of the callbacks array to avoid issues if it's modified during iteration\n\t\tconst callbacksCopy = [...callbacks];\n\n\t\tfor (const callback of callbacksCopy) {\n\t\t\tcallback.apply(this, arguments_);\n\t\t}\n\t}\n\n\treturn this;\n};\n\nEmitter.prototype.listeners = function (event) {\n\treturn this._callbacks.get(event) ?? [];\n};\n\nEmitter.prototype.listenerCount = function (event) {\n\tif (event) {\n\t\treturn this.listeners(event).length;\n\t}\n\n\tlet totalCount = 0;\n\tfor (const callbacks of this._callbacks.values()) {\n\t\ttotalCount += callbacks.length;\n\t}\n\n\treturn totalCount;\n};\n\nEmitter.prototype.hasListeners = function (event) {\n\treturn this.listenerCount(event) > 0;\n};\n\n// Aliases\nEmitter.prototype.addEventListener = Emitter.prototype.on;\nEmitter.prototype.removeListener = Emitter.prototype.off;\nEmitter.prototype.removeEventListener = Emitter.prototype.off;\nEmitter.prototype.removeAllListeners = Emitter.prototype.off;\n\nif (typeof module !== 'undefined') {\n\tmodule.exports = Emitter;\n}\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Emitter = require('component-emitter');\n\nfunction Stream() {\n  Emitter.call(this);\n}\nStream.prototype = new Emitter();\nmodule.exports = Stream;\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (!this.hasListeners('error')) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.off('data', ondata);\n    dest.off('drain', ondrain);\n\n    source.off('end', onend);\n    source.off('close', onclose);\n\n    source.off('error', onerror);\n    dest.off('error', onerror);\n\n    source.off('end', cleanup);\n    source.off('close', cleanup);\n\n    dest.off('end', cleanup);\n    dest.off('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('end', cleanup);\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n}\n"],
  "mappings": "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",
  "names": []
}
